# NFSR Cycle Calculator

A Python program that calculates all cycles generated by a Nonlinear Feedback Shift Register (NFSR).

## What is an NFSR?

A Nonlinear Feedback Shift Register (NFSR) is a sequence generator where the next bit is determined by a nonlinear function of the current state. Unlike Linear Feedback Shift Registers (LFSRs), the feedback function in an NFSR can include nonlinear operations like AND, OR, and other boolean functions.

NFSRs are commonly used in cryptography, random number generation, and stream ciphers due to their complex behavior and resistance to certain types of cryptanalysis.

## Features

- Calculate all cycles generated by an NFSR with a configurable register length
- Custom feedback function input using Python syntax
- Detailed display of cycle structures and distributions
- Performance timing for calculations
- Save results to a file with progress feedback
- Verification that all possible states are accounted for

## Requirements

- Python 3.6 or higher (for type hints)

## Usage

1. Run the program:

```
python nfsr_cycle_calculator.py
```

2. Enter the register length (recommendation: start with small values like 3-8 bits for quick results)

3. Enter a custom feedback function using Python syntax:
   - Use `xi` to refer to the i-th bit of the register (0-indexed)
   - Example: `x0+x1*x2`
   
4. Choose whether to save results to a file

## Example Output

For a 3-bit register with feedback function `x0+x1*x2`:
============================================================
NFSR Cycle Calculator
============================================================

Enter register length (1-20): 3

Enter your feedback function in the format: x0+x1*x2       
Use + for XOR operations and * for AND operations
Example: x0+x1*x2+x2*x3 means x[0] ⊕ (x[1] & x[2]) ⊕ (x[2] & x[3])

Feedback function: x0+x1*x2

Do you want to save results to a file? (y/n): n

Calculating cycles...

NFSR with register length 3
Found 3 unique cycles:

Cycles of length 1: 1
  Cycle 1: 000 -> 000

Cycles of length 3: 1
  Cycle 1: 001 -> 010 -> 100 -> 001

Cycles of length 4: 1
  Cycle 1: 011 -> 111 -> 110 -> 101 -> 011


Cycle Distribution Statistics:
------------------------------
Length 1: 1 cycles (1 states)
Length 3: 1 cycles (3 states)
Length 4: 1 cycles (4 states)
------------------------------
Total: 3 cycles (8 states out of 8 possible)

Calculation completed in 0.0010 seconds
## Understanding the Results

The program displays:
- All unique cycles found in the NFSR
- The length of each cycle
- The states within each cycle (represented as binary strings with transition arrows)
- Statistics on cycle distribution
- Total number of cycles and states
- Verification that all possible states are accounted for

## Saving Results

When saving results to a file, the program provides detailed progress feedback:
- Shows progress for each cycle length being written
- Indicates completion of each major section (header, cycles, statistics)
- Confirms successful file save with checkmarks (✓)

The saved file contains:
- NFSR configuration (register length)
- All cycle information in a readable format
- Cycle distribution statistics
- Total number of cycles and states

Example of the save process output:
```
Saving cycle information to nfsr_cycles.txt...
Writing data for 2 different cycle lengths...
Writing header information... ✓
Writing cycles of length 1 (1 cycles)... ✓
Writing cycles of length 7 (1 cycles)... ✓
Writing distribution statistics... ✓

File saved successfully to nfsr_cycles.txt ✓
```

## Performance Note

The number of possible states grows exponentially with register length (2^n states for n bits). For registers larger than 20 bits, the calculation may take a very long time or exhaust available memory. Start with smaller register sizes to get familiar with the program.

## Implementation Details

The code is structured around the `NFSRCycleCalculator` class which provides:
- State management and conversion between binary and integer representations
- Cycle detection and enumeration
- Cycle distribution analysis
- Results display and file saving functionality

The program also includes utilities for:
- Creating custom feedback functions from string expressions
- Progress feedback during lengthy operations

## Files

- `nfsr_cycle_calculator.py` - Main program with NFSR implementation
- `README.md` - This documentation 